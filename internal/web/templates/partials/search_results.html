{{define "search_results.html"}}
<div class="results-info">
    Найдено: {{.TotalCount}} {{if .Query}}по запросу "{{.Query}}"{{end}}
</div>
{{if .Media}}
<div class="grid">
    {{range .Media}}
    <div class="md-card md-card-elevated media-card" data-id="{{.ID}}" style="position: relative; cursor: pointer;" onclick="window.location='/view/{{.ID}}'">
        <div class="md-card-media" style="aspect-ratio: 1;">
            <img src="/media/{{.ID}}/thumb/small" alt="{{.Filename}}" loading="lazy">
        </div>
        <button class="md-icon-button favorite-badge" style="position: absolute; top: 8px; right: 8px; background: rgba(0,0,0,0.5);">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
        </button>
        <div class="overlay">
            <div class="filename">{{.Filename}}</div>
        </div>
    </div>
    {{end}}
</div>
{{if .HasMore}}
<div style="text-align: center; margin-top: 2rem;">
    <button class="md-button md-button-outlined" onclick="loadMore()">Загрузить ещё</button>
</div>
{{end}}
{{else}}
<div class="empty-state">
    <h3>Ничего не найдено</h3>
    <p>Попробуйте изменить параметры поиска</p>
</div>
{{end}}
{{end}}
